<!DOCTYPE html>



<body>

    <textarea 
    
    type="text" 
    id="comment_input" 
    name="comment" 
    required minlength="4" 
    maxlength="140" 
    size="20"
    rows="5"
    cols="30"
    placeholder="Write comment here.">

</textarea>

    <button type="button" onclick="postComment()">
        Submit
    </button>

    <ol id="post_list">

      


    </ol>

</body>


<!-- THINGS TO ADD

    SIGN IN PAGE

    Login page (sign in with Google, Apple ID, etc.)
    

    COMMENT FEATURE

    Assign user to comments.
    "You must sign in to enter comment"
    Add timestamp tp comment section.
    Allow other users to reply to other comments.
    Upvote/downvote
    Save comment
    Report
    User tag and link to profile




-->
<script>

  function saveComment(commentToSave) {
    const previous_comments = [localStorage.getItem("joel")].flat();
    previous_comments.push(commentToSave);
    console.log(previous_comments);
    localStorage.setItem("joel", previous_comments);
  }
  
  function loadComment() {
    console.log("hey");
    const comment_input = localStorage.getItem("joel");
    localStorage.getItem("joel");
    displayComment(comment_input);
  }

  function loadComments() {
    const array1 = [localStorage.getItem("joel")];
    array1.flat().forEach((element) => displayComment(element));


  }
  
  function displayComment(commentToDisplay) {
          let ol = document.getElementById("post_list");
          // now we want to add a <li> with the comment inside
          //document.createElement("li");
          const li = document.createElement('li');
          li.innerHTML = commentToDisplay + "   <br><b> -- " + addTimeStamp() + "</b>";
  
          ol.appendChild(li);
  }
  
      // alert("hello");
      function postComment() {
          let userComment = document.getElementById("comment_input").value;
          saveComment (userComment);
          displayComment(userComment);
        }
  
      function addTimeStamp() {
          var d = new Date(),
              month = d.getMonth() + 1,
              day = (d.getDate() < 10) ? "0" + d.getDate() : d.getDate(),
              year = d.getFullYear(),
              hours = d.getHours(),
              minutes = d.getMinutes(),
              seconds = (d.getSeconds() < 10) ? "0" + d.getSeconds() : d.getSeconds();
  
          if (hours > 12) {
              hours -= 12;
          } else if (hours === 0) {
              hours = 12;
          }
  
          var today = hours + ":" + minutes + ":" + seconds + " " + month + "/" + day + "/" + year;
          return today;
      }
     // loadComment();
     loadComments();
  </script>

</html>
